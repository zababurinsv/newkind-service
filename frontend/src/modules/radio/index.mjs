const t={audio:{ctx:!1,analyser:!1,waveform:!1,master:{gain:!1}},html:{scope:{canvas:!1,context:!1},button:{start:!1,radios:{this:!1,length:!1}}},player:{start:!1,stop:!1,isPlaying:!1},stream:{song:!1,source:!1,path:!1},web:{crossOrigin:"anonymous"}},n=t=>(t.stream.song.pause(),t.stream.song=new Audio(t.stream.path),t.stream.source=t.audio.ctx.createMediaElementSource(t.stream.song),t.stream.song.crossOrigin="anonymous",t.stream.source.connect(t.audio.master.gain),t.stream.song.play(),t.html.button.start.textContent="Stop Audio",!0),e=()=>{t.html.scope.context=t.html.scope.canvas.getContext("2d"),t.html.scope.canvas.width=t.audio.waveform.length,t.html.scope.canvas.height=200,t.html.scope.context.clearRect(0,0,t.html.scope.canvas.width,t.html.scope.canvas.height),t.html.scope.context.beginPath();for(let n=0;n<t.audio.waveform.length;n++){const e=n,a=(.5+t.audio.waveform[n]/2)*t.html.scope.canvas.height;0===n?t.html.scope.context.moveTo(e,a):t.html.scope.context.lineTo(e,a)}t.audio.analyser.getFloatTimeDomainData(t.audio.waveform),t.html.scope.context.strokeStyle="#5661FA",t.html.scope.context.lineWidth=2,t.html.scope.context.stroke(),window.requestAnimationFrame(e)};var a=async()=>new Promise(((a,o)=>{a(class{constructor(a){(n=>{t.html.scope.canvas=n.this.shadowRoot.querySelector("#oscilloscope"),t.html.button.start=n.this.shadowRoot.querySelector("#start"),t.html.button.radios.this=n.this.shadowRoot.querySelectorAll('input[name="radio-selection"]'),t.html.button.radios.length=t.html.button.radios.this.length})(a);for(let n=0,e=t.html.button.radios.length;n<e;n++)!0===t.html.button.radios.this[n].checked&&(t.stream.path=t.html.button.radios.this[n].value);t.stream.song=new Audio(t.stream.source);for(let e=0,a=t.html.button.radios.length;e<a;e++)t.html.button.radios.this[e].addEventListener("change",(e=>{t.player.isPlaying&&(t.stream.song.pause(),t.html.button.start.textContent="Start Audio",t.player.isPlaying=!t.player.isPlaying,t.stream.path=e.target.value,t.audio.ctx&&(t.player.isPlaying=!t.player.isPlaying,n(t)))}));t.html.button.start.addEventListener("click",(async a=>{var o;console.log(t.player.isPlaying),t.player.isPlaying?(t.stream.song.pause(),t.html.button.start.textContent="Start Audio",console.log("1111111111")):(console.log("22222222222"),(o=t).audio.ctx=new(window.AudioContext||window.webkitAudioContext),o.audio.analyser=o.audio.ctx.createAnalyser(),o.audio.waveform=new Float32Array(o.audio.analyser.frequencyBinCount),o.audio.analyser.getFloatTimeDomainData(o.audio.waveform),o.audio.master.gain=o.audio.ctx.createGain(),o.audio.master.gain.connect(o.audio.ctx.destination),o.audio.master.gain.connect(o.audio.analyser),n(t),e()),t.player.isPlaying=!t.player.isPlaying}))}})})),o=t=>{let n={default:{css:"\n.audio-newkind__form {\n  max-width: 100%;\n  margin: 1rem auto 1rem;\n  font-family: 'Roboto', sans-serif;\n  color: black;\n}\n\n.audio-newkind__radio + label:hover {\n  cursor: pointer;\n}\n\n.audio-newkind__radio {\n  display: none;\n}\n\n.audio-newkind__radio + label span {\n  border: 2px solid #fff;\n  border-radius: 80%;\n  font-size: 1rem;\n  display: inline-block;\n  width: 10px;\n  height: 10px;\n  margin: 4px 8px 8px 8px;\n  padding: 2px;\n  text-align: center;\n  vertical-align: middle;\n}\n\n.audio-newkind__radio:checked + label span {\n  background: #7694f4;\n}\n\n.audio-newkind {\n  width: 100%;\n}\n\n.audio-newkind__title {\n  margin-bottom: 0.5rem;\n  font-family: 'Oleo Script', cursive;\n  font-size: 2.5em;\n  text-align: center;\n  color: black;\n}\n\n.audio-newkind__btn {\n  appearance: none;\n  border: none;\n  border-radius: 4px;\n  box-shadow: inset 0px 1px 0px 0px rgba(255, 255, 255, .4), 2px 6px 10px 0px rgba(0, 0, 0, 0.2);\n  width: 100%;\n  max-width: 200px;\n  margin: auto;\n  display: flex;\n  justify-content: center;\n  outline: none;\n  margin-top: 0.75rem;\n  padding: 1em;\n  position: relative;\n  z-index: 1;\n  font-family: 'Roboto', sans-serif;\n  font-size: 0.875rem;\n  background: #5FA0FB;\n  color: black;\n}\n\n.audio-newkind__btn:hover {\n    cursor: pointer;\n}\n\n#oscilloscope {\n  border-top: 4px solid #e6ebf1;\n  border-bottom: 4px solid #e6ebf1;\n  height: 200px;\n  width: 100%;\n  background-color: darken(#7694f4, 40%);\n  //background-color: #7694f4;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.4'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15v-9H0v-1h15V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h9V0h1v15h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3Cpath d='M6 5V0H5v5H0v1h5v94h1V6h94V5H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  background-position: -35px 95%;\n}\n",html:'\n    <template>\n    <div class="audio-newkind">\n        <h1 class="audio-newkind__title">NewKind Radio</h1>\n        <form class="audio-newkind__form">\n            <input type="radio" class="audio-newkind__radio" id="raxxla" name="radio-selection" value="https://hermitage.hostingradio.ru/hermitage128.mp3" checked>\n            <label for="raxxla"><span></span>Raxxla Radio</label>\n            <input type="radio" class="audio-newkind__radio" id="earth" name="radio-selection" value="https://ice1.somafm.com/u80s-128-aac">\n            <label for="earth"><span></span>Earth Radio</label>\n            <input type="radio" class="audio-newkind__radio" id="cats-radio" name="radio-selection" value="https://ice1.somafm.com/deepspaceone-128-aac">\n            <label for="cats-radio"><span></span>Cats Radio</label>\n        </form>\n        <canvas id="oscilloscope"></canvas>\n        <button class="audio-newkind__btn" id="start">Start Audio</button>\n    </div>\n</template>'}};return n[`${t}`]?n[`${t}`]:(console.warn("type not found: ",`${t}`,"Set default"),n.default)};const h=t=>new Promise((async(n,e)=>{t.template=t.this.dataset.preset?await o(t.this.dataset.preset):await o("default");let a=await(h=t.template.html,new Promise((function(t,n){t((new DOMParser).parseFromString(h,"text/html").getElementsByTagName("template")[0].content.cloneNode(!0))})));var h;t.this.attachShadow({mode:"open"});let i=await(t=>new Promise((function(n,e){let a=document.createElement("style");a.textContent=`${t}`,n(a)})))(t.template.css);t.this.shadowRoot.appendChild(a),t.this.shadowRoot.appendChild(i),n(t)})),i=class extends HTMLElement{constructor(){var t;super(),(t=this,new Promise((function(n,e){let a={};a.this=t,a.component=t.tagName.toLowerCase(),n(a)}))).then((t=>h(t))).then((async t=>{let n=new(await a())(t);console.log("component",n)}))}};customElements.define("lacerta-radio",i);export{i as LacertaRadio};