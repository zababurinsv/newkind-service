const A=Symbol("Comlink.proxy"),e=Symbol("Comlink.endpoint"),t=Symbol("Comlink.releaseProxy"),n=Symbol("Comlink.thrown"),a=A=>"object"==typeof A&&null!==A||"function"==typeof A,s=new Map([["proxy",{canHandle:e=>a(e)&&e[A],serialize(A){const{port1:e,port2:t}=new MessageChannel;return r(A,e),[t,[t]]},deserialize:A=>(A.start(),i(A))}],["throw",{canHandle:A=>a(A)&&n in A,serialize({value:A}){let e;return e=A instanceof Error?{isError:!0,value:{message:A.message,name:A.name,stack:A.stack}}:{isError:!1,value:A},[e,[]]},deserialize(A){if(A.isError)throw Object.assign(new Error(A.value.message),A.value);throw A.value}}]]);function r(e,t=self){t.addEventListener("message",(function a(s){if(!s||!s.data)return;const{id:i,type:c,path:l}=Object.assign({path:[]},s.data),h=(s.data.argumentList||[]).map(g);let f;try{const t=l.slice(0,-1).reduce(((A,e)=>A[e]),e),n=l.reduce(((A,e)=>A[e]),e);switch(c){case"GET":f=n;break;case"SET":t[l.slice(-1)[0]]=g(s.data.value),f=!0;break;case"APPLY":f=n.apply(t,h);break;case"CONSTRUCT":{const e=new n(...h);p=e,f=Object.assign(p,{[A]:!0})}break;case"ENDPOINT":{const{port1:A,port2:t}=new MessageChannel;r(e,t),f=function(A,e){return d.set(A,e),A}(A,[A])}break;case"RELEASE":f=void 0;break;default:return}}catch(A){f={value:A,[n]:0}}var p;Promise.resolve(f).catch((A=>({value:A,[n]:0}))).then((A=>{const[e,n]=u(A);t.postMessage(Object.assign(Object.assign({},e),{id:i}),n),"RELEASE"===c&&(t.removeEventListener("message",a),o(t))}))})),t.start&&t.start()}function o(A){(function(A){return"MessagePort"===A.constructor.name})(A)&&A.close()}function i(A,e){return l(A,[],e)}function c(A){if(A)throw new Error("Proxy has been released and is not useable")}function l(A,n=[],a=function(){}){let s=!1;const r=new Proxy(a,{get(e,a){if(c(s),a===t)return()=>f(A,{type:"RELEASE",path:n.map((A=>A.toString()))}).then((()=>{o(A),s=!0}));if("then"===a){if(0===n.length)return{then:()=>r};const e=f(A,{type:"GET",path:n.map((A=>A.toString()))}).then(g);return e.then.bind(e)}return l(A,[...n,a])},set(e,t,a){c(s);const[r,o]=u(a);return f(A,{type:"SET",path:[...n,t].map((A=>A.toString())),value:r},o).then(g)},apply(t,a,r){c(s);const o=n[n.length-1];if(o===e)return f(A,{type:"ENDPOINT"}).then(g);if("bind"===o)return l(A,n.slice(0,-1));const[i,d]=h(r);return f(A,{type:"APPLY",path:n.map((A=>A.toString())),argumentList:i},d).then(g)},construct(e,t){c(s);const[a,r]=h(t);return f(A,{type:"CONSTRUCT",path:n.map((A=>A.toString())),argumentList:a},r).then(g)}});return r}function h(A){const e=A.map(u);return[e.map((A=>A[0])),(t=e.map((A=>A[1])),Array.prototype.concat.apply([],t))];var t}const d=new WeakMap;function u(A){for(const[e,t]of s)if(t.canHandle(A)){const[n,a]=t.serialize(A);return[{type:"HANDLER",name:e,value:n},a]}return[{type:"RAW",value:A},d.get(A)||[]]}function g(A){switch(A.type){case"HANDLER":return s.get(A.name).deserialize(A.value);case"RAW":return A.value}}function f(A,e,t){return new Promise((n=>{const a=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");A.addEventListener("message",(function e(t){t.data&&t.data.id&&t.data.id===a&&(A.removeEventListener("message",e),n(t.data))})),A.start&&A.start(),A.postMessage(Object.assign({id:a},e),t)}))}let p={CACHE:"@newkind/cache@0.1.1",URLS:["/newkind-service/"],AllowList:["@newkind/cache@0.1.1"],timeout:0,memory:{},progressIndicatorUrls:"/?requestId=/i;",strategy:{NetworkOrCache:!1,CacheOnly:!1,CacheAndUpdate:!1,CacheUpdateAndRefresh:!1,EmbeddedFallback:!1},contentType:A=>"audio"===A&&"audio/mpeg"};function m(A){return caches.open(p.CACHE).then((e=>e.match(A).then((A=>A||Promise.reject("no-match")))))}function E(A){return caches.open(p.CACHE).then((e=>fetch(A).then((t=>e.put(A,t.clone()).then((()=>t))))))}function b(A){return self.clients.matchAll().then((e=>{e.forEach((e=>{const t={type:"refresh",url:A.url,eTag:A.headers.get("ETag")};e.postMessage(JSON.stringify(t))}))}))}self.addEventListener("install",(A=>{A.waitUntil(self.skipWaiting()),A.waitUntil(caches.open(p.CACHE).then((function(A){return console.log("ðŸ’– addAll",p.URLS),A.addAll(p.URLS)}))),console.log("ðŸ–¤ service install")})),self.addEventListener("activate",(A=>{A.waitUntil(self.clients.claim()),A.waitUntil(caches.keys().then((function(A){return Promise.all(A.map((function(A){if(-1===p.AllowList.indexOf(A))return caches.delete(A)})))}))),console.log("ðŸ–¤ service activate")})),self.addEventListener("notificationclick",(function(A){console.log("ðŸ–¤ service notificationclick",A)})),self.addEventListener("push",(function(A){console.log("ðŸ–¤ service push",A)})),self.addEventListener("sync",(A=>{console.log("ðŸ–¤ service sync",A)})),self.addEventListener("fetch",(A=>{var e,t;console.log("ðŸ–¤ service fetch",A.request.url),p.strategy.NetworkOrCache?A.respondWith((e=A.request,t=p.timeout,new Promise(((A,n)=>{let a=setTimeout(n,t);fetch(e).then((e=>{clearTimeout(a),A(e)}),n)}))).catch((e=>{m(A.request)}))):p.strategy.CacheOnly?A.respondWith(m(A.request)):p.strategy.CacheAndUpdate?(A.respondWith(m(A.request)),A.waitUntil(E(A.request))):p.strategy.CacheUpdateAndRefresh?(A.respondWith(m(A.request)),A.waitUntil(E(A.request).then(b))):A.respondWith(fetch(new Request(A.request,{headers:{"Content-Type":p.contentType(A.request.destination)}})).then((A=>(A&&200===A.status&&A.type,A))).catch((()=>Promise.resolve(new Response(y,{headers:{"Content-Type":"text/html; charset=utf-8"}})))))})),self.addEventListener("message",(async A=>{if(console.log("ðŸ–¤ ðŸŒ¼ service message",A.data),A.data&&A.data.state&&A.data.state.isConnected&&"proxy-memory"===A.data.state.type){console.log("ðŸ–¤ ðŸŒ¼ service message",A.data.state);for(let e in A.data.state.to)p.memory=i(A.data.state.to[e]);console.log("ðŸ–¤ ðŸŒ¼ ðŸŽ« service message",A.data.state),A.source.postMessage({state:{"proxy-memory":!0}})}else A.data.test&&(console.log("ðŸ–¤ ðŸŒ¼ ðŸŽ« service message",A.data.state),A.source.postMessage({state:{"~~~~~ test ~~~~~":!0}}))}));const y='\n<html>\n<head>\n<title>Elite</title>\n<style>\nbody {\n  padding: 3em 0em;\n  background: #eeeeee;\n}\nhr {\n  color: lightgray;\n  width: 100%;\n}\nimg {\n  float: left;\n  opacity: .8;\n}\n#box {\n  background: white;\n  border: 1px solid lightgray;\n  width: 600px;\n  padding: 60px;\n  margin: auto;\n}\nh1 {\n  font-size: 130%;\n  font-weight: bold;\n  border-bottom: 1px solid lightgray;\n  margin-left: 48px;\n}\nh2 {\n  font-size: 100%;\n  font-weight: normal;\n  border-bottom: 1px solid lightgray;\n  margin-left: 48px;\n}\nul {\n  font-size: 80%;\n  padding-left: 48px;\n  margin: 0;\n}\n#reloadButton {\n  padding-left: 48px;\n}\n</style>\n</head>\n<body>\n  <div id="box">\n    <img src="data:image/png;base64, AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbbv+DGW3/mRlt/5kZbf+ZGq6/hIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGa3/ohkt/7/Zbj//2S3/v9lt/6WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGm5/iRlt/74Zbj//2W4//9luP//Zbf++mi4/i4gIPciGhr24hsb9uwbG/bsGhr24CEh9xoAAAAAAAAAAAAAAABnuP5mZLf+/2W4//9luP//Zbj//2S3/v9muP5yGBj2rhMT9v8TE/b/ExP2/xMT9f8YGPWkAAAAAAAAAAAAAAAAb7z/BGW3/tZluP//Zbj//2W4//9lt/7gJzH3ShMT9f8TE/b/ExP2/xMT9v8TE/b/ExP1/CAg9joAAAAAAAAAAAAAAABmuP5GZLf+6GS3/uhkt/7oZbf+UhgY9YQSEvX/ExP2/xMT9v8TE/b/ExP2/xIS9f8aGvZ8AAAAAD4++gQgIPZ6IiL2hiIi9oYgIPZ8KCj5BAAAAAAtLfgUFBT17BMT9v8TE/b/ExP2/xMT9v8VFfXoLCz4DgAAAAAaGvZqEhL1/xMT9v8TE/b/EhL1/xsb9nIAAAAAAAAAABwc9m4SEvX/ExP2/xMT9v8SEvX/HR32ZAAAAAAnJ/gSFRX16hMT9v8TE/b/ExP2/xMT9v8UFPXuJyf4Fp2xlAKNnqUYLC/mfhYW83ATE/VuFxf1aDc3+gIAAAAAGBj1fhIS9f8TE/b/ExP2/xMT9v8TE/b/ExP1/xkZ9YaGn3yIhZ57/4Wee/+Gn3yKAAAAAAAAAAAAAAAAAAAAACMj9zYTE/X8ExP2/xMT9v8TE/b/ExP2/xMT9f9JUshihZ57+IaffP+Gn3z/hZ579oigfiYAAAAAAAAAAAAAAAAAAAAAGBj1oBIS9f8TE/b/ExP2/xMT9f8YGPWmiKB+PIWee/+Gn3z/hp98/4Wee/+HoH06AAAAAAAAAAAAAAAAAAAAACUl9xgVFfXOExP11BMT9dQUFPXQJib3HgAAAACGn3ymhp98/4affP+Gn3ymAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAiKB+EIihf0CIoX9AiKB+EAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAP//AADg/wAA4MMAAOCBAADggQAA8QEAAOeBAADDwwAAgf8AAIAPAACBDwAAgQ8AAMMPAAD//wAA//8AAA==" width="32" height="32"/>\n    <h1>Elite</h1>\n    <h2>When connecting to: https://zababurinsv.github.io/newkind-service/</h2>\n    <ul>\n      <li>Check the address for errors such as <b>ww</b>.example.com\n      instead of <b>www</b>.example.com</li>\n      <li>If the address is correct, try checking the network\n      connection.</li>\n      <li>If your computer or network is protected by a firewall or\n      proxy, make sure that the browser demo is permitted to access\n      the network.</li>\n    </ul>\n    <br/><br/>\n  </div>\n</body>\n</html>\n';
//# sourceMappingURL=PROXY.58a952d9.js.map
